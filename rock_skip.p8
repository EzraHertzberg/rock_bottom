pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
function _update()
	rock_update()
	if btn(2)  and rock.y > 14*8 and rock.y < 16*8 then
		rock_skip()
	end
	if rock.y > 8 * 16 then
		rock_sink()
	end
end

function _draw()
	cls(0)
	camera(0, 0)
	map(1, 1, 0, 0)
	print(rock.x)
	camera(rock.x-40, 0)
	spr(rock.sprite, rock.x, rock.y, 1, 1)
	for i = 1, 100 do
		spr(5, 14 * i * 8, 4 + 14 * 8, 1, 1)
	end
end
-->8
gravity = 0.1
rock = {
	sprite = 1,
	x = 0,
	y = 0,
	dx = 1,
	dy = 0,
	sunk = false
	}

function rock_skip()
	rock.dx = 2
	rock.dy = 3

end

function rock_update()
	if not rock.sunk then
		rock.dy = rock.dy - gravity
		rock.x = rock.x + rock.dx
		rock.y = rock.y - rock.dy
	end
end

function rock_sink()
	rock.sunk = true
	rock.sprite = 6
	rock.y = 8 * 13
end

__gfx__
0000000000000000bbbbbbbbcccccccc111111110000000000100100000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000bbbbbbbbcccccccc111111110000000000000101000000000000000000000000000000000000000000000000000000000000000000000000
0070070000666600bbbbbbbbcccccccc111111110070000001100000000000000000000000000000000000000000000000000000000000000000000000000000
0007700006dddd60bbbbbbbbcccccccc111111110970000001101000000000000000000000000000000000000000000000000000000000000000000000000000
000770006dddddd6bbbbbbbbcccccccc111111110077000001101011000000000000000000000000000000000000000000000000000000000000000000000000
0070070006dddd60bbbbbbbbcccccccc111111110076770011100010000000000000000000000000000000000000000000000000000000000000000000000000
0000000000666600bbbbbbbbcccccccc111111110077667001101010000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000bbbbbbbbcccccccc111111110077770001101010000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000001001010000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000011101011000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000001101111000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000011110111000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
